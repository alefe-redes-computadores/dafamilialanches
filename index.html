<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DFL – Da Família Lanches 🍔</title>

  <!-- Ícone e estilos -->
  <link rel="icon" type="image/png" href="favicon.png" />
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <!-- Script principal -->
  <script defer src="script.js"></script>

  <!-- Leaflet (mapa interativo) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>

<body>
  <!-- Ícone do carrinho fixo -->
  <button id="cart-icon" aria-label="Abrir carrinho">🛒 <span id="cart-count">0</span></button>

  <!-- Cabeçalho -->
  <header class="header">
    <div class="header-content">
      <img src="logo.png" alt="DFL" class="logo" />
      <div class="header-info">
        <h1>Da Família Lanches</h1>
        <p class="tagline">O sabor que une a família 🍔</p>
      </div>
    </div>
  </header>

  <!-- Banner dinâmico -->
  <div id="status-banner" class="status-banner">Carregando horário...</div>

  <!-- Horários fixos -->
  <div class="hours-banner">
    <span>🕒 Seg–Qui <b>18h–23h15</b></span> •
    <span>Sex–Dom <b>17h30–23h30</b></span> •
    <span>Ter <b>Fechado</b></span>
  </div>

  <!-- Promoções -->
  <section class="promo-section">
    <h2>Confira as Promoções de Hoje</h2>
    <p class="promo-sub">Estoque limitado • Poucas unidades disponíveis</p>
    <div class="countdown-ticker">
      ⚡ <b>Últimas horas!</b> TERMINA EM <span id="timer">00:00:00</span>
    </div>

    <div class="carousel" id="promoCarousel">
      <button class="c-btn c-prev" aria-label="Anterior">◀</button>
      <div class="slides">
        <img class="slide" src="promo1.jpg" alt="Promo 1" />
        <img class="slide" src="promo2.jpg" alt="Promo 2" />
        <img class="slide" src="promo3.jpg" alt="Promo 3" />
        <img class="slide" src="promo4.jpg" alt="Promo 4" />
        <img class="slide" src="promo5.jpg" alt="Promo 5" />
        <img class="slide" src="promo6.jpg" alt="Promo 6" />
        <img class="slide" src="promo7.jpg" alt="Promo 7" />
        <img class="slide" src="promo8.jpg" alt="Promo 8" />
      </div>
      <button class="c-btn c-next" aria-label="Próxima">▶</button>
    </div>
  </section>

  <!-- ======================== -->
  <!-- Hambúrgueres Tradicionais -->
  <!-- ======================== -->
  <section class="menu-section">
    <h2>Hambúrgueres Tradicionais</h2>
    <div class="grid">
      <article class="card" data-type="burger" data-id="BAO" data-name="BÃO" data-price="11.00">
        <h3>BÃO <span class="badge">Com Molho Verde 🌿</span></h3>
        <div class="price">R$ 11,00</div>
        <p>Pão, alface, tomate, hambúrguer, presunto e mussarela. <em>Acompanha sachê de ketchup.</em></p>
        <div class="actions">
          <button class="add-cart">Adicionar</button>
          <button class="extras-btn">➕ Adicionais</button>
        </div>
      </article>

      <article class="card" data-type="burger" data-id="UAI" data-name="UAI" data-price="13.00">
        <h3>UAI <span class="badge">Com Molho Verde 🌿</span></h3>
        <div class="price">R$ 13,00</div>
        <p>Pão, alface, tomate, milho, bacon, hambúrguer, presunto e mussarela.</p>
        <div class="actions">
          <button class="add-cart">Adicionar</button>
          <button class="extras-btn">➕ Adicionais</button>
        </div>
      </article>

      <article class="card" data-type="burger" data-id="TREM" data-name="TREM" data-price="14.00">
        <h3>TREM <span class="badge">Com Molho Verde 🌿</span></h3>
        <div class="price">R$ 14,00</div>
        <p>Pão, alface, tomate, milho, bacon, salsicha, hambúrguer, presunto e mussarela.</p>
        <div class="actions">
          <button class="add-cart">Adicionar</button>
          <button class="extras-btn">➕ Adicionais</button>
        </div>
      </article>

      <article class="card" data-type="burger" data-id="ARMARIA" data-name="ARMARIA" data-price="18.00">
        <h3>ARMARIA <span class="badge">Com Molho Verde 🌿</span></h3>
        <div class="price">R$ 18,00</div>
        <p>Pão, alface, tomate, milho, bacon, salsicha, hambúrguer, filé de frango, batata palha, presunto e mussarela.</p>
        <div class="actions">
          <button class="add-cart">Adicionar</button>
          <button class="extras-btn">➕ Adicionais</button>
        </div>
      </article>

<article class="card" data-type="burger" data-id="BITELA" data-name="BITELA" data-price="22.00">
        <h3>BITELA <span class="badge">Com Molho Verde 🌿</span></h3>
        <div class="price">R$ 22,00</div>
        <p>Pão, alface, tomate, milho, bacon, salsicha, 2 hambúrgueres, filé de frango, batata palha, presunto e mussarela.</p>
        <div class="actions">
          <button class="add-cart">Adicionar</button>
          <button class="extras-btn">➕ Adicionais</button>
        </div>
      </article>

      <article class="card" data-type="burger" data-id="GRADICIDO" data-name="GRADICIDO" data-price="28.00">
        <h3>GRADICIDO <span class="badge">Com Molho Verde 🌿</span></h3>
        <div class="price">R$ 28,00</div>
        <p>Pão, alface, tomate, milho, bacon, salsicha, 3 hambúrgueres, filé de frango, ovo, batata palha, presunto e mussarela.</p>
        <div class="actions">
          <button class="add-cart">Adicionar</button>
          <button class="extras-btn">➕ Adicionais</button>
        </div>
      </article>
    </div>
  </section>

  <!-- ======================== -->
  <!-- Hot Dog’s -->
  <!-- ======================== -->
  <section class="menu-section">
    <h2>🌭 Hot Dog’s</h2>
    <div class="grid">
      <article class="card" data-type="hotdog" data-id="NIGUCIM" data-name="NIGUCIM" data-price="10.00">
        <h3>NIGUCIM <span class="badge">Com Molho Verde 🌿</span></h3>
        <div class="price">R$ 10,00</div>
        <p>Pão, molho, salsicha (Sadia/Perdigão), milho, batata palha, ketchup e maionese.</p>
        <div class="actions">
          <button class="add-cart">Adicionar</button>
          <button class="extras-btn">➕ Adicionais</button>
        </div>
      </article>

      <article class="card" data-type="hotdog" data-id="PADANA" data-name="PADANÁ" data-price="15.00">
        <h3>PADANÁ <span class="badge">Com Molho Verde 🌿</span></h3>
        <div class="price">R$ 15,00</div>
        <p>Pão, molho, 2 salsichas, milho, batata palha, bacon, vinagrete, mussarela, ketchup e maionese.</p>
        <div class="actions">
          <button class="add-cart">Adicionar</button>
          <button class="extras-btn">➕ Adicionais</button>
        </div>
      </article>

      <article class="card" data-type="hotdog" data-id="TREMBAO" data-name="TREMBÃO" data-price="17.00">
        <h3>TREMBÃO <span class="badge">Com Molho Verde 🌿</span></h3>
        <div class="price">R$ 17,00</div>
        <p>Pão, molho, milho, purê de batata, 2 salsichas, bacon, mussarela, batata palha, vinagrete, ketchup e maionese.</p>
        <div class="actions">
          <button class="add-cart">Adicionar</button>
          <button class="extras-btn">➕ Adicionais</button>
        </div>
      </article>
    </div>
  </section>

  <!-- ======================== -->
  <!-- Bebidas -->
  <!-- ======================== -->
  <section class="menu-section">
    <h2>Bebidas & Refrigerantes</h2>
    <div class="grid">
      <article class="card" data-type="beverage" data-id="coca200" data-name="Coca-Cola 200ml" data-price="4.00">
        <h3>Coca-Cola 200ml</h3>
        <div class="price">R$ 4,00</div>
        <div class="actions"><button class="add-cart">Adicionar</button></div>
      </article>

      <article class="card" data-type="beverage" data-id="aguaG" data-name="Água com Gás" data-price="4.00">
        <h3>Água com Gás</h3>
        <div class="price">R$ 4,00</div>
        <div class="actions"><button class="add-cart">Adicionar</button></div>
      </article>

      <article class="card" data-type="beverage" data-id="coca310" data-name="Coca-Cola 310ml" data-price="5.00">
        <h3>Coca-Cola 310ml</h3>
        <div class="price">R$ 5,00</div>
        <div class="actions"><button class="add-cart">Adicionar</button></div>
      </article>

      <article class="card" data-type="beverage" data-id="fanta1l" data-name="Fanta Laranja 1L" data-price="8.00">
        <h3>Fanta Laranja 1L</h3>
        <div class="price">R$ 8,00</div>
        <div class="actions"><button class="add-cart">Adicionar</button></div>
      </article>

      <article class="card" data-type="beverage" data-id="coca2l" data-name="Coca-Cola 2L" data-price="13.00">
        <h3>Coca-Cola 2L</h3>
        <div class="price">R$ 13,00</div>
        <div class="actions"><button class="add-cart">Adicionar</button></div>
      </article>
    </div>
  </section>

  <!-- ======================== -->
  <!-- Carrinho Lateral -->
  <!-- ======================== -->
  <aside id="mini-cart" class="mini-cart">
    <div class="mini-head">
      <h3>🛒 Seu Pedido</h3>
      <button id="close-cart" aria-label="Fechar Carrinho">✕</button>
    </div>

    <div id="cart-items" class="mini-list">
      <p>Seu carrinho está vazio 😔</p>
    </div>

    <div class="mini-foot">
      <button id="finalize-order" class="btn-primary">Fechar Pedido</button>
      <button id="clear-cart" class="btn-secondary">Limpar</button>
    </div>
  </aside>

  <div id="cart-backdrop"></div>

<!-- ======================== -->
  <!-- Painel “Meus Pedidos” -->
  <!-- ======================== -->
  <aside id="orders-panel" class="orders-panel" aria-hidden="true">
    <header class="orders-head">
      <h3>📜 Meus Pedidos</h3>
      <button class="orders-close" aria-label="Fechar">✕</button>
    </header>
    <div id="orders-content" class="orders-content">
      <p class="empty-orders">Nenhum pedido foi encontrado.</p>
    </div>
  </aside>

  <!-- ======================== -->
  <!-- MAPA -->
  <!-- ======================== -->
  <h2 class="mapa-titulo">🚗 Entregamos em toda Patos de Minas 💛</h2>
  <div id="mapa-entregas"
       style="height:300px;width:100%;border-radius:12px;margin:20px auto;border:2px solid #f9d44b;">
  </div>

  <!-- ======================== -->
  <!-- RODAPÉ -->
  <!-- ======================== -->
  <footer class="footer">
    <h2>Onde estamos</h2>
    <p>Patos de Minas — Atendimento delivery e retirada.</p>
    <a class="map-link"
       href="https://maps.app.goo.gl/jQ1cYcmuZm8rU5Dk9"
       target="_blank">📍 Abrir no Google Maps</a>

    <p class="social-line">
      📸 <a href="https://www.instagram.com/dafamilia_patos" target="_blank">@dafamilia_patos</a> ·
      🛒 <a href="https://www.ifood.com.br/delivery/patos-de-minas-mg/da-familia-lanches-caramuru/9aadff75-b014-4e7f-a9b4-b3e478e38af8" target="_blank">iFood</a> ·
      💬 <a href="https://wa.me/5534997178336" target="_blank">WhatsApp</a>
    </p>

    <p class="copy">© 2025 Da Família Lanches — Você faz parte disso!</p>
  </footer>

  <!-- ======================== -->
  <!-- Script do mapa -->
  <!-- ======================== -->
  <script>
  (function() {
    const el = document.getElementById('mapa-entregas');
    if (!el) return;

    const map = L.map('mapa-entregas', {
      center: [-18.5783, -46.5187],
      zoom: 13,
      scrollWheelZoom: true
    });

    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png')
      .addTo(map);

    L.circle([-18.5783, -46.5187], {
      radius: 6000,
      color: '#d4af37',
      fillColor: '#ffd700',
      fillOpacity: 0.25,
      weight: 2
    }).addTo(map);

    L.marker([-18.5783, -46.5187])
      .addTo(map)
      .bindPopup("<b>🍔 DFL</b><br>Entregamos em toda Patos de Minas 💛")
      .openPopup();
  })();
  </script>
</body>
</html>