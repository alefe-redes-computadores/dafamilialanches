<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Da Família Lanches 🍔</title>

  <!-- Ícone e CSS -->
  <link rel="icon" href="favicon.png" />
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

  <!-- Leaflet (mapa) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Script principal -->
  <script defer src="script.js"></script>
</head>

<body>
  <!-- Ícone do carrinho -->
  <button id="cart-icon">🛒 <span id="cart-count">0</span></button>

  <!-- Cabeçalho -->
  <header class="header">
    <div class="header-content">
      <img src="logo.png" class="logo" alt="Logo DFL" />
      <div class="header-info">
        <h1>Da Família Lanches</h1>
        <p class="tagline">O sabor que une a família 🍔</p>
      </div>
    </div>
  </header>

  <!-- Banner de status -->
  <div id="status-banner" class="status-banner">Verificando horário...</div>

  <div class="hours-banner">
    <span>🕒 Seg–Qui <b>18h–23h15</b></span> •
    <span>Sex–Dom <b>17h30–23h30</b></span> •
    <span>Ter <b>Fechado</b></span>
  </div>

  <!-- Promoções -->
  <section class="promo-section">
    <h2>🔥 Promoções do Dia</h2>
    <p class="promo-sub">Válidas até 23h59 ou enquanto durarem os estoques</p>
    <div class="countdown-ticker">⏰ Termina em: <span id="timer">00:00:00</span></div>

    <div id="promoCarousel" class="carousel">
      <button class="c-btn c-prev">◀</button>
      <div class="slides">
        <img class="slide" src="promo1.jpg" alt="Promo 1" data-wa="Quero saber mais sobre a Promo 1" />
        <img class="slide" src="promo2.jpg" alt="Promo 2" data-wa="Quero aproveitar a Promo 2" />
        <img class="slide" src="promo3.jpg" alt="Promo 3" data-wa="Promo 3, me conta mais!" />
      </div>
      <button class="c-btn c-next">▶</button>
    </div>
  </section>

  <!-- Cardápio resumido -->
  <section class="menu-section">
    <h2>🍔 Hambúrgueres Tradicionais</h2>
    <div class="grid">
      <article class="card" data-name="Bão" data-price="11.00">
        <h3>Bão</h3>
        <p>Pão, alface, tomate, hambúrguer, presunto e mussarela.</p>
        <div class="actions"><button class="add-cart">Adicionar</button><button class="extras-btn">Adicionais</button></div>
      </article>

      <article class="card" data-name="Uai" data-price="13.00">
        <h3>Uai</h3>
        <p>Pão, alface, tomate, milho, bacon, hambúrguer, presunto e mussarela.</p>
        <div class="actions"><button class="add-cart">Adicionar</button><button class="extras-btn">Adicionais</button></div>
      </article>

      <article class="card" data-name="Trem" data-price="14.00">
        <h3>Trem</h3>
        <p>Pão, alface, tomate, milho, bacon, salsicha, hambúrguer, presunto e mussarela.</p>
        <div class="actions"><button class="add-cart">Adicionar</button><button class="extras-btn">Adicionais</button></div>
      </article>
    </div>
  </section>

  <!-- Hot Dogs -->
  <section class="menu-section">
    <h2>🌭 Hot Dogs</h2>
    <div class="grid">
      <article class="card" data-name="Nigucim" data-price="10.00">
        <h3>Nigucim</h3>
        <p>Pão, molho, salsicha, milho, batata palha e maionese.</p>
        <div class="actions"><button class="add-cart">Adicionar</button></div>
      </article>
      <article class="card" data-name="Trembão" data-price="17.00">
        <h3>Trembão</h3>
        <p>Pão, molho, purê de batata, 2 salsichas, bacon, mussarela e vinagrete.</p>
        <div class="actions"><button class="add-cart">Adicionar</button></div>
      </article>
    </div>
  </section>

  <!-- Bebidas -->
  <section class="menu-section">
    <h2>🥤 Bebidas e Refrigerantes</h2>
    <div class="grid">
      <article class="card" data-name="Coca-Cola 200ml" data-price="4.00"><h3>Coca-Cola 200ml</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Água com Gás" data-price="3.00"><h3>Água com Gás</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Coca Lata 310ml" data-price="5.00"><h3>Coca Lata 310ml</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Coca Lata 310ml Zero" data-price="5.00"><h3>Coca Lata 310ml Zero</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Del Valle Uva 450ml" data-price="5.00"><h3>Del Valle Uva 450ml</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Del Valle Laranja 450ml" data-price="5.00"><h3>Del Valle Laranja 450ml</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Fanta Laranja 1L" data-price="8.00"><h3>Fanta Laranja 1L</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Coca-Cola 1L" data-price="9.00"><h3>Coca-Cola 1L</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Coca-Cola 1L Zero" data-price="9.00"><h3>Coca-Cola 1L Zero</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Kuat 2L" data-price="10.00"><h3>Kuat 2L</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
      <article class="card" data-name="Coca-Cola 2L" data-price="13.00"><h3>Coca-Cola 2L</h3><div class="actions"><button class="add-cart">Adicionar</button></div></article>
    </div>
  </section>

  <!-- Carrinho lateral -->
  <div id="cart-backdrop"></div>
  <aside id="mini-cart" class="mini-cart">
    <header class="mini-head"><h3>🛍️ Seu Pedido</h3><button class="mini-close">✕</button></header>
    <div class="mini-list"><p class="empty-cart">Seu carrinho está vazio.</p></div>
    <footer class="mini-foot"></footer>
  </aside>

  <!-- Modal de Adicionais -->
  <div id="extras-backdrop"></div>
  <aside id="extras-modal">
    <header class="extras-head"><h3>Adicionais</h3><button class="extras-close">✕</button></header>
    <div id="extras-list" class="extras-list"></div>
    <footer class="extras-foot"><button class="extras-close btn-secondary">Cancelar</button><button id="extras-add" class="btn-primary">Adicionar</button></footer>
  </aside>

  <!-- Modal de Login -->
  <div id="login-modal">
    <div class="login-box">
      <button class="login-x">✕</button>
      <h3>Entrar ou Cadastrar</h3>
      <p>Use seu e-mail ou entre com o Google</p>
      <div class="login-form">
        <input type="email" placeholder="E-mail" />
        <input type="password" placeholder="Senha" />
        <button class="btn-primario">Entrar</button>
      </div>
      <div class="divider">ou</div>
      <button class="btn-google"><img src="google-icon.png" alt=""> Entrar com Google</button>
    </div>
  </div>

  <!-- Mapa -->
  <h2 class="mapa-titulo">🚗 Entregamos em toda Patos de Minas</h2>
  <div id="mapa-entregas" style="height:300px;width:100%;border-radius:12px;margin:20px auto;border:2px solid #f9d44b;"></div>

  <!-- Rodapé -->
  <footer class="footer">
    <h2>Onde estamos</h2>
    <p>📍 Patos de Minas — Delivery e retirada</p>
    <a href="https://maps.app.goo.gl/jQ1cYcmuZm8rU5Dk9" target="_blank">Ver no Google Maps</a>
    <p class="social-line">📸 <a href="https://www.instagram.com/dafamilia_patos" target="_blank">@dafamilia_patos</a> · 💬 <a href="https://wa.me/5534997178336" target="_blank">WhatsApp</a> · 🛒 <a href="https://www.ifood.com.br/delivery/patos-de-minas-mg/da-familia-lanches-caramuru/9aadff75-b014-4e7f-a9b4-b3e478e38af8" target="_blank">iFood</a></p>
    <p class="copy">© 2025 Da Família Lanches — Você faz parte disso! 💛</p>
  </footer>

  <!-- Script do mapa -->
  <script>
  (function() {
    const el = document.getElementById('mapa-entregas');
    if (!el) return;
    const map = L.map('mapa-entregas', { center: [-18.5783, -46.5187], zoom: 13 });
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);
    L.circle([-18.5783, -46.5187], { radius: 6000, color: '#d4af37', fillColor: '#ffd700', fillOpacity: 0.25 }).addTo(map);
    L.marker([-18.5783, -46.5187]).addTo(map).bindPopup("<b>🍔 DFL</b><br>Entregamos em toda Patos de Minas");
  })();
  </script>
</body>
</html>